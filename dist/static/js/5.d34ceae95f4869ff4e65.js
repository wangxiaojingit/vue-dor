webpackJsonp([5],{"G/lD":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("lC5x"),a=s.n(n),o=s("IHPB"),r=s.n(o),i=s("J0Oq"),l=s.n(i),c=s("5lg0"),u=s("03aZ"),d=s("HPf7"),f={created:function(){this.getData()},computed:{},data:function(){return{lists:[],start:0,hasMore:!0,loading:!1,timer:null}},methods:{getData:function(){var t=this;return l()(a.a.mark(function e(){var s,n,o,i,l;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.f)(t.start);case 2:return s=e.sent,console.log(s),e.next=6,Object(u.f)(t.start);case 6:n=e.sent,o=n.data,i=o.hasMore,l=o.result,t.hasMore=i,t.lists=[].concat(r()(t.lists),r()(l)),t.loading=!1;case 13:case"end":return e.stop()}},e,t)}))()},changelists:function(t){Object(u.c)(t),this.lists=this.lists.filter(function(e){return e.id!=t})},loadMore:function(){var t=this;clearTimeout(this.timer),this.timer=window.setTimeout(function(){var e=t.$refs.scroll,s=e.scrollTop,n=e.scrollHeight;s+e.clientHeight+20>n&&(t.hasMore&&!t.loading?(t.loading=!0,t.start=t.lists.length,t.getData()):t.hasMore?t.loading&&console.log("正在加载中...."):console.log("没有更多"))},20)}},components:{MyHead:c.a,List:d.a}},h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("MyHead",[t._v("列表页")]),t._v(" "),s("div",{ref:"scroll",staticClass:"main",on:{scroll:t.loadMore}},[t.lists.length?s("List",{attrs:{hot:t.lists,carIcon:!0},on:{rem:t.changelists}}):t._e(),t._v(" "),t.loading?s("div",[t._v("loading...")]):t._e(),t._v(" "),t.hasMore?t._e():s("div",{staticClass:"nomore"},[t._v("...no more ...")])],1)],1)},staticRenderFns:[]};var v=s("vSla")(f,h,!1,function(t){s("Mj5e")},"data-v-623f9e98",null);e.default=v.exports},Mj5e:function(t,e){}});
//# sourceMappingURL=5.d34ceae95f4869ff4e65.js.map